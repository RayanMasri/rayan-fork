<%#
List Variables:
invoice_lang
invoice_company
invoice_customer: {
  full_name
  full_address
  email
}
invoice_data: {
  qrCodeURL
  invoice_id
  date_invoice
  date_due
  products
}
invoice_translate: {
  invoice
  invoice_to
  date_invoice
  date_due
  table: {
    description
    unit_price
    quantity
    total_product
    subtotal
    grandtotal
  },
  thanks
  footer
  notice
  notice_text
}
%>
<!DOCTYPE html>
<html <% if (invoice_lang == "ar") { %>dir="rtl" <% } %> lang="<%= invoice_lang %>">

<head>
  <meta charset="utf-8">
  <title><%= invoice_translate.invoice %><%= invoice_data.invoice_id %></title>
  <style>
    <% @import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital@0;1&display=swap');

    .clearfix:after {
      content: "";
      display: table;
      clear: both;
    }

    a {
      color: #5F5FFF;
      text-decoration: none;
    }

    body {
      position: relative;
      width: 21cm;
      height: 29.7cm;
      margin: 0 auto;
      color: #555555;
      background: #FFFFFF;
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-family: 'Source Sans Pro', sans-serif;
    }

    header {
      padding: 10px 0;
      margin-bottom: 50px;
      border-bottom: 1px solid #AAAAAA;
    }

    #logo {
      float: <% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>;
      margin-top: 8px;
    }

    #logo img {
      height: 70px;
    }

    #company {
      float: <% if (invoice_lang=="ar") {
        %>left<%
      }

      else {
        %>right<%
      }

      %>;
      text-align: right;
    }


    #details {
      margin-bottom: 200px;
    }

    #client {
      padding-<% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>: 6px;

      border-<% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>: 6px solid #5F5FFF;

      float: <% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>;
    }

    #client .to {
      color: #777777;
    }

    h2.name {
      font-size: 1.4em;
      font-weight: normal;
      margin: 0;
    }

    #invoice {
      float: <% if (invoice_lang=="ar") {
        %>left<%
      }

      else {
        %>right<%
      }

      %>;
      text-align: right;
    }

    #invoice h1 {
      color: #5F5FFF;
      font-size: 2.4em;
      line-height: 1em;
      font-weight: normal;
      margin: 0 0 10px 0;
    }

    #invoice .date {
      font-size: 1.1em;
      color: #777777;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      border-spacing: 0;
      margin-bottom: 200px;
    }

    table th,
    table td {
      padding: 20px;
      background: #EEEEEE;
      text-align: center;
      border-bottom: 1px solid #FFFFFF;
    }

    table th {
      white-space: nowrap;
      font-weight: normal;
    }

    table td {
      text-align: <% if (invoice_lang=="ar") {
        %>left<%
      }

      else {
        %>right<%
      }

      %>;
    }

    table td h3 {
      color: #5F5FFF;
      font-size: 1.2em;
      font-weight: normal;
      margin: 0 0 0.2em 0;
    }

    table .no {
      color: #FFFFFF;
      font-size: 1.6em;
      background: #5F5FFF;
    }

    table .desc {
      text-align: <% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>;
    }

    table .unit {
      background: #DDDDDD;
    }

    table .qty {}

    table .total {
      background: #5F5FFF;
      color: #FFFFFF;
    }

    table td.unit,
    table td.qty,
    table td.total {
      font-size: 1.2em;
    }

    table tbody tr:last-child td {
      border: none;
    }

    table tfoot td {
      padding: 10px 20px;
      background: #FFFFFF;
      border-bottom: none;
      font-size: 1.2em;
      white-space: nowrap;
      border-top: 1px solid #AAAAAA;

      text-align: <% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>;
    }

    table tfoot tr:first-child td {
      border-top: none;
    }

    table tfoot tr:last-child td {
      color: #5F5FFF;
      font-size: 1.4em;
      border-top: 1px solid #5F5FFF !important;

    }

    table tfoot tr td:first-child {
      border: none;
    }

    table tfoot tr td:last-child {
      text-align:<% if (invoice_lang=="ar") {
        %>left<%
      }

      else {
        %>right<%
      }

      %>;
    }

    #blockSubfooter {
      position: relative;
    }

    #thanks {
      font-size: 2em;
      margin-bottom: 120px;
    }

    #qrcode {
      position: absolute;
      top: -100px;

      <% if (invoice_lang=="ar") {
        %>left<%
      }

      else {
        %>right<%
      }

      %>: 0;
    }

    #notices {
      padding-<% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>: 6px;

      border-<% if (invoice_lang=="ar") {
        %>right<%
      }

      else {
        %>left<%
      }

      %>: 6px solid #5F5FFF;
      margin-bottom: 160px;
    }

    #notices .notice {
      font-size: 1.2em;
    }

    footer {
      color: #777777;
      width: 100%;
      height: 30px;
      bottom: 0;
      border-top: 1px solid #AAAAAA;
      padding: 8px 0;
      text-align: center;
    }

    .st0 {
      fill: #5F5FFF;
    }

    %>
  </style>
</head>

<body>
  <header class="clearfix">
    <div id="logo">
      <% if (invoice_company.logo) { %>
      <img src="<%= invoice_company.logo.src %>" <% if (invoice_company.logo.width) { %>width="<%= invoice_company.logo.width %>" <% } %> <% if (invoice_company.logo.height) { %>width="<%= invoice_company.logo.height %>" <% } %> />
      <% } %>
    </div>
    <div id="company">
      <h2 class="name"><%= invoice_company.name %></h2>
      <div><%= invoice_company.address %></div>
      <div><%= invoice_company.phone %></div>
      <div><a href="mailto:<%= invoice_company.email %>"><%= invoice_company.email %></a></div>
    </div>
    </div>
  </header>
  <main>
    <div id="details" class="clearfix">
      <div id="client">
        <div class="to"><%= invoice_translate.invoice_to %></div>
        <h2 class="name"><%= invoice_customer.full_name %></h2>
        <div class="address"><%= invoice_customer.full_address %></div>
        <div class="email"><a href="mailto:<%= invoice_customer.email %>"><%= invoice_customer.email %></a></div>
      </div>
      <div id="invoice">
        <h1><%= invoice_translate.invoice %><%= invoice_data.invoice_id %></h1>
        <div class="date"><%= invoice_translate.date_invoice %><%= invoice_data.date_invoice %></div>
        <div class="date"><%= invoice_translate.date_due %><%= invoice_data.date_due %></div>
      </div>
    </div>
    <table border="0" cellspacing="0" cellpadding="0" style="margin-bottom: 50px;">
      <thead>
        <tr>
          <th class="no">#</th>
          <th class="desc"><%= invoice_translate.table.description %></th>
          <th class="unit"><%= invoice_translate.table.unit_price %></th>
          <th class="total"><%= invoice_translate.table.total_product %></th>
        </tr>
      </thead>
      <tbody>
        <% products.forEach(function(product) { %>
        <tr>
          <td class="no" style="text-align:center">01</td>
          <td class="desc">
            <h3><%= product.product_name %></h3><%= product.product_description %>
          </td>
          <td class="unit" style="text-align:center"><%= product.product_price %></td>
          <td class="total" style="text-align:center"><%= product.product_price %></td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <table border="0" cellspacing="0" cellpadding="0">
      <tfoot>
        <tr>
          <td colspan="3"><%= invoice_translate.table.subtotal %></td>
          <td><%= invoice_data.totals.subtotal %></td>
        </tr>
        <% if (invoice_data.totals.discount) { %>
        <tr>
          <td colspan="3"><%= invoice_translate.table.discount %></td>
          <td><%= invoice_data.totals.discount %></td>
        </tr>
        <% } %>
        <% if (invoice_data.totals.vat) { %>
        <tr>
          <td colspan="3"><%= invoice_translate.table.vat %></td>
          <td><%= invoice_data.totals.vat %></td>
        </tr>
        <% } %>
        <tr>
          <td colspan="3"><%= invoice_translate.table.grandtotal %></td>
          <td><%= invoice_data.totals.total %></td>
        </tr>
      </tfoot>
    </table>
    <div id="blockSubfooter">
      <div id="thanks"><%= invoice_translate.thanks %></div>
      <div id="qrcode"><img src="<%= invoice_data.qrCodeURL %>" /></div>
    </div>
    <div id="notices">
      <div><%= invoice_translate.notice %></div>
      <div class="notice"><%= invoice_translate.notice_text %></div>
    </div>
  </main>
  <footer>
    <%= invoice_translate.footer %>
  </footer>
</body>

</html>